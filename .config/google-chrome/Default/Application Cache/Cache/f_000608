ID.prototype.Mi=t(1010,function(){return U(this,2)});WN.prototype.Mi=t(1009,g("F"));JY.prototype.Mi=t(1008,function(){return U(this,1)});LY.prototype.Mi=t(1007,function(){return U(this,1)});MY.prototype.Mi=t(1006,function(){return U(this,2)});QY.prototype.Mi=t(1005,function(){return U(this,1)});YY.prototype.Mi=t(1004,function(){return U(this,1)});$Y.prototype.Mi=t(1003,function(){return U(this,1)});
dZ.prototype.Mi=t(1002,function(a){var b=this,c=new GA;c.Bi=!0;var d=c.serialize(a);return new Se(function(a,f){eZ(b,"/dbx/getExecutionStatus",d,function(b){c.Bi=!1;b=c.ud(YY.Ca(),b.Ye());a(b)},function(){f()})})});function nSe(a,b){V(a,3,b)}function oSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/createQuery",d,function(a){c.Bi=!1;a=c.ud(JY.Ca(),a.Ye());3==a.Mi().getState()?f(a):b(a)},function(){var a=new JY,b=new PA;V(a,1,b);b.wb(3);V(b,2,1);f(a)})})}
function pSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/previewQuery",d,function(a){c.Bi=!1;a=c.ud(LY.Ca(),a.Ye());3==a.Mi().getState()?f(a):b(a)},function(){var a=new LY,b=new PA;V(a,1,b);b.wb(3);V(b,2,1);f(a)})})}
function qSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(e,f){eZ(a,"/dbx/refreshSheets",d,function(a){c.Bi=!1;a=c.ud(NMd.Ca(),a.Ye());Aw(a,1).some(function(a){return 3==a.Mi().getState()})?f(a):e(a)},function(){var a=new NMd,c=new PA;c.wb(3);V(c,2,1);Aw(b,1).forEach(function(b){var d=new MY;V(d,1,b);V(d,2,c);yw(a,1,d)});f(a)})})}
function rSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/getDbPivotResult",d,function(a){c.Bi=!1;a=c.ud($Y.Ca(),a.Ye());3==a.Mi().getState()?f(a):b(a)},function(){var a=new $Y,b=new PA;V(a,1,b);b.wb(3);V(b,2,1);f(a)})})}
function sSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/editQuery",d,function(a){c.Bi=!1;a=c.ud(QY.Ca(),a.Ye());3==a.Mi().getState()?f(a):b(a)},function(){var a=new QY,b=new PA;V(a,1,b);b.wb(3);V(b,2,1);f(a)})})}function tSe(a){var b=new GA;return new Se(function(c,d){ix(Wu(jx(ky(Xu(a.C.uf("/dbx/listConnections"),"GET")),1).setTimeout(3E4),function(a){b.Bi=!1;a=b.ud(WMd.Ca(),a.Ye());c(a)}),d).We()})}
function uSe(a,b){var c=new GA;c.Bi=!0;var d=op(c.serialize(b));return new Se(function(b,f){ix(Wu(Ux(jx(ky(Xu(a.C.uf("/dbx/getQuery"),"POST")),1).setTimeout(3E4),["data",d]),function(a){c.Bi=!1;a=c.ud(iNd.Ca(),a.Ye());U(a,1)?b(a):f("Query is not found")}),f).We()})}
function vSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/getBigQueryProjects",d,function(a){c.Bi=!1;a=c.ud(WY.Ca(),a.Ye());a.Zo()&&f(a);b(a)},function(){var a=new LY,b=new PA;V(a,1,b);b.wb(3);V(b,2,1);f(a)})})}function wSe(a){var b=dZ.getInstance(),c=new GA;c.Bi=!0;var d=c.serialize(a);return new Se(function(a,f){eZ(b,"/dbx/hasBigQueryQueryResults",d,function(b){c.Bi=!1;b=c.ud(bZ.Ca(),b.Ye());b.Aq()||f(b);a(b)},function(){var a=new bZ;V(a,1,!1);f(a)})})}
function xSe(a,b){var c=new GA;c.Bi=!0;var d=c.serialize(b);return new Se(function(b,f){eZ(a,"/dbx/getConnection",d,function(a){c.Bi=!1;a=c.ud(pNd.Ca(),a.Ye());b(a)},function(){f()})})}function ySe(a){this.C=a}ySe.prototype.getSelection=g("C");function zSe(a,b,c){b=void 0===b?"":b;c=void 0===c?"dataconnector-querytype-raw":c;this.C=[];for(var d=0;d<a.length;d++)this.C.push(a[d].clone());this.F=b;this.D=c};function ASe(){var a='<div class="'+S("waffle-dataconnector-footer-sharing-message")+'">';return Q(a+'<span>Os dados que voc\u00ea est\u00e1 consultando s\u00e3o vis\u00edveis para todos com acesso para visualizar, mas sua consulta s\u00f3 \u00e9 vis\u00edvel para as pessoas com acesso para editar. <a href="https://support.google.com/docs/answer/9077536" target="_blank">Saiba mais</a></span></div>')};function BSe(a){a=a.vMb;var b='<div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-section")+'"><h3 class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-header")+'">';b=b+"Projeto de faturamento"+('</h3><div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper")+'"></div>'+(a?'<div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-radio-group")+'"><div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-raw-data-radio-wrapper")+
'"></div><div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-pivot-table-radio-wrapper")+'"></div></div>':"")+"</div>");return Q(b)}function CSe(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper")+'"><p>';a=a+'O uso do BigQuery \u00e9 regido pelos <a href="https://cloud.google.com/terms/" target="_blank">Termos de Servi\u00e7o</a> do Google Cloud Platform.'+("</p></div>"+P(ASe(null,b)));return Q(a)};function DSe(){return Q('<svg class="waffle-dataconnector-database-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="#000" fill-rule="evenodd"><ellipse cx="9" cy="5" rx="7" ry="3"/><path d="M16,7 L16,8.99999983 C16,10.6568542 12.8659932,12 9,12 C5.13400675, 12 2,10.6568542 2,9 L2,7 C2,8.65685425 5.13400675,10 9,10 C12.8659932,10 16,8.65685425 16,7 Z"/><path d="M16,11 L16,12.9999998 C16,14.6568542 12.8659932,16 9,16 C5.13400675,16 2,14.6568542 2,13 L2,11 C2,12.6568542 5.13400675,14 9,14 C12.8659932,14 16,12.6568542 16,11 Z"/></g></svg>')}
function ESe(a){a=a||{};var b=a.color;a="";b=tt(b,null)?"#D0021B":b;a+='<svg class="waffle-dataconnector-error-icon" width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="'+S(b)+'" fill-rule="evenodd" d="M9,13 L11,13 L11,15 L9,15 L9,13 Z M9,5 L11,5 L11,11 L9,11 L9,5 Z M9.99,0 C4.47,0 0,4.48 0,10 C0,15.52 4.47,20 9.99,20 C15.52,20 20,15.52 20,10 C20,4.48 15.52,0 9.99,0 Z M10,18 C5.58,18 2,14.42 2,10 C2,5.58 5.58,2 10,2 C14.42,2 18,5.58 18,10 C18,14.42 14.42,18 10,18 Z"></path></g></svg>';
return Q(a)}
function FSe(){return Q('<svg class="waffle-dataconnector-bigquery-icon" width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path fill="#000000" fill-rule="evenodd" d="M17.6210231,14.9676464 C17.7267041,14.964158 17.8336481,14.999598 17.9136667,15.0739664 L21.2187334,18.1431672 C21.3715333,18.2853017 21.3715333,18.5181274 21.2187334,18.6604475 L19.8908,19.8929813 C19.7375334,20.0356729 19.4867333,20.0356729 19.3334666,19.8929813 L16.0288667,16.8252043 C15.9483809,16.7504669 15.9100327,16.6511429 15.9138223,16.5530387 C14.5318646,17.5088871 12.8185327,18.0746254 10.962963,18.0746254 C6.38121025,18.0746254 2.66666667,14.6253786 2.66666667,10.3707987 C2.66666667,6.11585235 6.38121025,2.66666667 10.962963,2.66666667 C15.5447814,2.66666667 19.259325,6.11585235 19.2592593,10.3708597 C19.2592593,12.0936892 18.6501585,13.6844725 17.6210231,14.9676464 Z M10.9627632,16.1481946 C14.3991593,16.1481946 17.1851852,13.5615621 17.1851852,10.3706486 C17.1851852,7.17973497 14.3992258,4.59254616 10.9627632,4.59254616 C7.52630064,4.59254616 4.74074074,7.17967314 4.74074074,10.3706486 C4.74074074,13.561624 7.52630064,16.1481946 10.9627632,16.1481946 Z M6.81481481,10.3703704 L8.88888889,10.3703704 L8.88888889,14.0029401 C8.03391111,13.6464441 7.31942754,13.1505168 6.81481481,12.5594013 L6.81481481,10.3703704 Z M9.92592593,8.44442896 L12,8.44442896 L12,14.1665272 C11.6766072,14.200082 11.3475683,14.2222532 11.0093815,14.2222532 C10.6390341,14.2222532 10.2784063,14.1975885 9.92592593,14.1574203 L9.92592593,8.44442896 Z M13.044326,11.3333411 L15.1184,11.3333411 L15.1184,12.4901418 C14.6287957,13.0790718 13.9116201,13.5742789 13.044326,13.933362 L13.044326,11.3333411 Z"></path></g></svg>')}
function GSe(a){a=a||{};var b=a.opacity;a="";b=tt(b,null)?1:b;a+='<svg class="waffle-dataconnector-menu-icon" fill="#000000" fill-opacity="'+S(b)+'" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>';return Q(a)};function HSe(){var a=Q,b='<div class="'+S("waffle-dataconnector-modal-header")+'"><div class="'+S("waffle-dataconnector-modal-title")+'" role="heading"></div><div class="'+S("waffle-dataconnector-modal-close-button")+'" tabindex="0" role="button">';var c=Q('<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0,0 L18,0 L18,18 L0,18 L0,0 Z M0,0 L18,0 L18,18 L0,18 L0,0 Z"/><polygon fill="#000" points="14.53 4.53 13.47 3.47 9 7.94 4.53 3.47 3.47 4.53 7.94 9 3.47 13.47 4.53 14.53 9 10.06 13.47 14.53 14.53 13.47 10.06 9"/></g></svg>');
return a(b+c+'</div></div><div class="'+S("waffle-dataconnector-modal-body")+'"></div><div class="'+S("waffle-dataconnector-modal-footer")+'"></div>')};function A4(a,b){a=void 0===a?"":a;Mt.call(this,!1,b);this.Qb=a;this.C=new Js(void 0,ISe.getInstance());this.Ia(this.C);this.C.Eg("Fechar");this.xb=null;this.kb=!0}v(A4,Mt);n=A4.prototype;
n.Da=function(){Mt.prototype.Da.call(this);var a=this.getId();Rk(this.Qa(),"labelledby",a);Qk(this.Qa(),"dialog");Xk(this.getElement(),"waffle-dataconnector-modal");this.Qb&&Xk(this.getElement(),this.Qb);kt(this.getElement(),HSe);this.La("waffle-dataconnector-modal-title").id=a;a=this.Mp();Xk(a,"waffle-dataconnector-modal-bg");N(a,this.kb);this.C.Xa(this.La("waffle-dataconnector-modal-close-button"));this.xb&&JSe(this)};
n.Ja=function(){Mt.prototype.Ja.call(this);KSe(this);this.getHandler().R(this.C,"action",this.y_);this.getHandler().R(this.Qa(),["keydown","keypress"],this.MRb)};n.tb=function(){return this.hb("waffle-dataconnector-modal-body")};function LSe(a){return a.hb("waffle-dataconnector-modal-footer")}function MSe(a,b){a.xb=b;a.ub()&&JSe(a)}function KSe(a){var b=a.va(),c=a.Mp(),d=a.jq;a.kb?(d&&b.Ks(d,a.getElement()),b.Ks(c,a.getElement())):(b.Lf(d),b.Lf(c))}n.y_=function(){tvb.zb()};n.U8=function(){tvb.zb()};
n.MRb=function(a){"keydown"==a.type?27==a.keyCode?this.U8():9==a.keyCode&&a.shiftKey&&a.target==this.getElement()&&eSa(this):this.$Ja(a)};function JSe(a){hm.getInstance().setContent(a.La("waffle-dataconnector-modal-title"),a.xb)}n.$Ja=ca();function ISe(){}v(ISe,Is);ISe.prototype.zq=m("waffle-dataconnector-modal-close-button");wa(ISe);function B4(a,b){A4.call(this,a,b);this.H=Ye()}v(B4,A4);n=B4.prototype;n.getResult=function(){return this.H.C};n.resolve=function(a){this.H.resolve(a)};n.reject=function(a){this.H.reject(a)};n.Ka=function(){A4.prototype.Ka.call(this);this.H.reject()};n.U8=function(){this.reject()};n.y_=function(){this.reject()};var NSe=new Fv(1);function OSe(a){var b=1024<=a;a=b?kCd(parseInt(a,10)):a;return(new Hv("{AT_LEAST_ONE_KB,select, true{Bytes que ser\u00e3o processados: {BYTES}.}other{\n         {BYTES,plural, =0{# bytes ser\u00e3o processados.}=1{# byte ser\u00e1 processado.}one{# byte ser\u00e1 processado.}other{# bytes ser\u00e3o processados.}}}}")).format({AT_LEAST_ONE_KB:b?"true":"false",BYTES:a})}
function PSe(){var a=new Qr,b="Configure um projeto no Console do Google Cloud Platform para continuar. "+(a.Ae("a",{"class":"goog-inline-block",href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("Saiba mais"+a.Be("a")));return a.format(b)}function QSe(){return(new Hv("{ROWS,plural, =0{unused plural form}=1{Somente a primeira linha ser\u00e1 mostrada.}one{Somente # linha ser\u00e1 mostrada.}other{Somente as primeiras # linhas ser\u00e3o mostradas.}}")).format({ROWS:1E4})};function RSe(a,b){B4.call(this,"waffle-dataconnector-bigqueryquerysettingsdialog",b);MSe(this,this.va().Da("SPAN",void 0,mt(FSe),"Conex\u00e3o de dados do BigQuery"));this.J=a.C;this.D=new ZT;this.Ia(this.D);this.D.Fd("waffle-dataconnector-bigqueryquerysettingsdialog-project-select");this.D.Eg("Projeto de faturamento");vQa(this.D,"Selecionar um projeto");this.L=new uX(this.va(),"Dados brutos");this.V=new uX(this.va(),"Tabela din\u00e2mica");this.O=new vX([this.L,this.V]);this.F=new cZ("Criar consulta");
this.Ia(this.F);this.F.Fd("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button")}v(RSe,B4);
RSe.prototype.Da=function(){B4.prototype.Da.call(this);var a=M(L(),"fedp");kt(this.tb(),BSe,{vMb:a});LSe(this).appendChild(mt(CSe));this.D.render(this.La("waffle-dataconnector-bigqueryquerysettingsdialog-project-select-wrapper"));this.F.render(this.La("waffle-dataconnector-bigqueryquerysettingsdialog-continue-button-wrapper"));a&&(this.L.render(this.La("waffle-dataconnector-bigqueryquerysettingsdialog-raw-data-radio-wrapper")),this.V.render(this.La("waffle-dataconnector-bigqueryquerysettingsdialog-pivot-table-radio-wrapper")),
wX(this.O,this.L))};
RSe.prototype.Ja=function(){B4.prototype.Ja.call(this);if(0==this.J.length){this.D.Pa(!1);vQa(this.D,"Nenhum projeto de faturamento");var a=this.va(),b=pe(a,PSe());a.appendChild(this.La("waffle-dataconnector-bigqueryquerysettingsdialog-project-section"),a.Da("DIV","waffle-dataconnector-bigqueryquerysettingsdialog-error-caption",b))}else{a=this.J;for(b=0;b<a.length;b++){var c=a[b];this.D.kd(new no(SSe(c),c.getId()))}this.getHandler().R(this.F,"action",this.Ea).R(this.D,"change",this.Aa)}this.Aa()};
RSe.prototype.Aa=function(){this.F.Pa(null!=this.D.jf())};RSe.prototype.Ea=function(){this.resolve(TSe(this))};function TSe(a){var b=a.D.jf().getValue(),c="dataconnector-querytype-raw";M(L(),"fedp")&&"Tabela din\u00e2mica"==xX(a.O).getLabel()&&(c="dataconnector-querytype-pivot");return new zSe(a.J,b,c)}function SSe(a){var b=a.getName();a=a.getId();return b+" ["+a+"]"};function USe(a){this.C=a}function VSe(a){var b=new cNd;return vSe(a.C,b).then(function(a){return Aw(a,4)})};function WSe(a){A.call(this);this.F=a;this.D=new D;this.Ba(this.D);this.C=[]}v(WSe,A);function XSe(a){return 0<a.C.length?Sa(a.C):null}function C4(a,b,c){void 0===c||c?YSe(a):(c=XSe(a))&&c.setVisible(!1);b.Qd(a.D);b instanceof Nt?a.F.Ci(b):(c=new $Lb(b),c.Qd(a.D),a.F.Ci(c));b.render();b.setVisible(!0);a.C.push(b)}function ZSe(a){var b=a.C.pop();for(B(b);0<a.C.length;)if(b=Sa(a.C),b.isDisposed())a.C.pop();else{b.setVisible(!0);break}}
function YSe(a){for(var b=ja(a.C),c=b.next();!c.done;c=b.next())B(c.value);a.C=[]}WSe.prototype.Ka=function(){YSe(this);A.prototype.Ka.call(this)};function $Se(a,b,c,d){A.call(this);this.V=a;this.ea=b;this.oa=c;this.J=this.L=null;this.H=d||null;this.C=3;this.O=new aTe;this.D=this.F=null}v($Se,A);n=$Se.prototype;n.getId=function(){return Da(this)};n.Ka=function(){this.stop();A.prototype.Ka.call(this)};n.start=function(){this.C=2;this.D=this.F=null;this.oEa(this.V)};n.stop=function(){2==this.C&&(this.C=3,this.O.stop())};function bTe(a,b){a.L=b;return a}function cTe(a,b){a.J=b;return a}
n.oEa=function(a){var b=this;this.ea.call(this.H,a).then(function(a){if(2==b.C){b.F=a;b.D=null;var c=b.oa.call(b.H,a);if(c){a:{a=b.O;c=x(b.oEa,b,c);if(10>a.F){a.F++;var e=1E3}else if(60>a.D)a.D++,e=5E3;else{a=!1;break a}e+=Math.round(.2*e*(Math.random()-.5)*2);a.C=mm(c,e);a=!0}a||dTe(b,Error("Polling timed out"))}else b.stop(),b.C=4,b.F=a,b.D=null,b.L&&b.L.call(b.H,a)}},function(a){2==b.C&&dTe(b,a)})};function dTe(a,b){a.stop();a.C=1;a.F=null;a.D=b;a.J&&a.J.call(a.H,b)}n.getStatus=g("C");n.kH=g("D");
function aTe(){this.D=this.F=0;this.C=null}aTe.prototype.stop=function(){this.D=this.F=0;nm(this.C);this.C=null};function eTe(a){this.C=a}function fTe(a,b){var c=U(b,1);return new $Se(b,function(b){return pSe(a.C,b)},function(a){if(1==a.Mi().getState()){var b=new KY;V(b,1,c);b.setToken(a.Mi().getToken());return b}return null})};function gTe(a,b){Jt(a.Pc,hTe(a));a.C="vertical"==a.D?PRa(a.Pc,b):QRa(a.Pc,b);var c=ja("vertical"==a.D?[a.C,0]:[0,a.C]);b=c.next().value;c=c.next().value;UI(a.Qa(),b,c,a.ze());a.dispatchEvent("Tg")}function hTe(a){var b=a.Qa().parentElement.getBoundingClientRect(),c=b.height;b=b.width;"horizontal"==a.D?(b=0,c-=a.$c()):(c=0,b-=a.$c());return new hl(0,0,b,c)};function iTe(a,b){var c=b.getErrorCode(),d=U(b,3);switch(c){case 20:return jTe(a,d);case 14:return D4('Atualize o par\u00e2metro "'+(U(b,6).toUpperCase()+'" para fazer refer\u00eancia a uma c\u00e9lula na pasta de trabalho atual e tente novamente'));case 15:return D4('Atualize a c\u00e9lula referida pelo par\u00e2metro "'+(U(b,6).toUpperCase()+'" para que seja texto ou um n\u00famero'));case 16:return D4("Selecione um nome de par\u00e2metro que voc\u00ea ainda n\u00e3o tenha usado");case 13:return D4('Defina seu par\u00e2metro "'+
(U(b,6).toUpperCase()+'" e tente novamente'));case 6:return M(L(),"docs-idu")?(a=new Qr,b=a.Ae("span",{"class":"waffle-dataconnector-error-message"})+("Tempo limite da consulta atingido. "+(a.Ae("a",{href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("Saiba mais"+(a.Be("a")+a.Be("span"))))),a=a.format(b)):a=kTe("Tempo limite da consulta atingido",d),a;case 8:return M(L(),"docs-idu")?(a=new Qr,b="Os resultados excederam "+(lTe+(" linhas. Atualize a consulta e tente novamente. "+
(a.Ae("a",{href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("Saiba mais"+a.Be("a"))))),a=a.format(b),a=D4(a)):a=kTe(mTe,d),a;case 18:return D4("A consulta retorna um tipo ARRAY ou STRUCT que n\u00e3o \u00e9 permitido no momento.");case 9:return a=new Qr,b='Acesse o Plx para especificar um mecanismo diferente de "Auto" e tente novamente. '+(a.Ae("a",{href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("Saiba mais"+a.Be("a"))),a=a.format(b),D4(a);case 19:return D4("A consulta j\u00e1 est\u00e1 em execu\u00e7\u00e3o.");
case 17:return a="N\u00e3o \u00e9 poss\u00edvel inserir os resultados da consulta: isso aumentaria o n\u00famero de c\u00e9lulas na pasta de trabalho acima do limite de "+(dh(L(),"fmtc")+" c\u00e9lulas."),D4(a);case 22:return D4("N\u00e3o \u00e9 poss\u00edvel usar nomes ou aliases de colunas duplicados. Atualize sua consulta.");case 23:return D4("N\u00e3o h\u00e1 uma p\u00e1gina associada a esta consulta.");case 24:return D4("N\u00e3o \u00e9 poss\u00edvel inserir os resultados da consulta: excede o m\u00e1ximo de caracteres permitido em uma \u00fanica c\u00e9lula.")}return nTe(d)}
function oTe(a){var b=new Qr;a=(new Hv("Para realizar esta consulta, {startLink}fa\u00e7a login na sua Conta do Google{endLink}")).format({startLink:b.Ae("a",{href:"#",id:a}),endLink:b.Be("a")});return b.format(a)}function jTe(a,b){if(!b)return nTe(b);switch(a){case 2:return D4("Erro do Plx: "+b);case 3:return D4("Erro do BigQuery: "+b);default:return D4("Erro do banco de dados: "+b)}}function nTe(a){return kTe("Ocorreu um erro. Tente novamente mais tarde.",a)}
var lTe=(new Fv(1)).format(1E4),mTe="Os resultados excederam "+(lTe+" linhas. Atualize a consulta e tente novamente.");function D4(a){return cd("span",{"class":"waffle-dataconnector-error-message"},a)}function kTe(a,b){var c=new Qr;b&&(a=a+": "+b);return D4(c.format(a))};function pTe(a){switch(a){case 2:var b=1;break;case 3:b=2;break;case 1:b=3;break;default:b=0}a=new xKc;I(a,1,b);b=new kk;zf(b,91,a);return b};function qTe(){}v(qTe,Is);qTe.prototype.Rb=m("waffle-dataconnector-queryeditor-removable-chip-remove-button");wa(qTe);function rTe(){}v(rTe,Is);rTe.prototype.Da=function(a){var b=Is.prototype.Da.call(this,a);a.va().appendChild(b,a.va().Da("DIV","waffle-dataconnector-queryeditor-removable-chip-chip-content"));return b};rTe.prototype.tb=function(a){return Id("waffle-dataconnector-queryeditor-removable-chip-chip-content",a)};rTe.prototype.Rb=m("waffle-dataconnector-queryeditor-removable-chip-button");
wa(rTe);var sTe=new GA;function tTe(a){return a.C.Cd().map(function(a){return a.Ta()})};function uTe(){A.call(this);this.C=Md()}v(uTe,A);function vTe(a,b){a.C.dataConnectorOnCompleteAuth=b;b=(new To(a.C.location.href)).resolve(new To("dbx/ssoLogin")).toString();var c=Kd();(a=Sr(b,{target:"google_popup",width:500,height:500,top:Math.floor((c.height-500)/2),left:Math.floor((c.width-500)/2),toolbar:!1,menubar:!1,location:!1,statusbar:!1},a.C))&&a.focus()}uTe.prototype.Ka=function(){delete this.C.dataConnectorOnCompleteAuth;A.prototype.Ka.call(this)};function wTe(a){var b=a.Xka(),c;if(c=b){a=ja(tTe(a.Za));for(c=a.next();!c.done;c=a.next())yw(b,3,c.value);c=b}return c}function xTe(a){a.J.setVisible(!0);var b=Math.min(a.J.ejb().height+16,240);yTe(a,b)}function zTe(a){if(!a.O.enabled){var b=0;ATe(a,b);a.O.R("tick",function(){a.isDisposed()||(b+=.1,ATe(a,b))});a.O.start()}}function ATe(a,b){E4(a,$c("Executando a consulta h\u00e1 "+(b.toFixed(1)+" s")))}function BTe(a,b){a.Wa=!1;a.O.stop();a.O.sE();CTe(a,!0);DTe(a,b.Mi());ETe(a)}
function DTe(a,b){10==b.getErrorCode()?FTe(a):E4(a,iTe(a.bE(),b))}function GTe(a){a.Wa=!0;E4(a,$c("Atualizando a pasta de trabalho"));ETe(a)}function yTe(a,b){var c=void 0===c?!0:c;B(a.Ea);a.Ea=null;c?(c=HTe(a),a.Ea=new ITe(c,b,200,a),a.Ba(a.Ea),a.Ea.play()):JTe(a,b)}function HTe(a){return a.ub()?Il(a.La("waffle-dataconnector-newqueryeditor-preview-pane")).height:0}function JTe(a,b){var c=a.La("waffle-dataconnector-newqueryeditor-main");b=Il(c).height-a.F.$c()-b;gTe(a.F,b)}
function ETe(a){var b=wTe(a),c=a.bb.C;a.Wa||null==b||c?(a.Na.Pa(!1),a.Aa.Pa(!1)):(a.Aa.Pa(!0),a.Na.Pa(!0));b=a.gb&&a.gb.equals(b);a.J.Ssa(!b)}function KTe(a){var b=new KY;a=wTe(a);V(b,1,a);V(b,2,30);return b}function FTe(a){var b="waffle-dataconnector-ssologin-"+ac(),c=oTe(b);E4(a,c);(b=Fd(b))&&a.getHandler().R(b,"click",function(){return LTe(a)})}function LTe(a){vTe(a.Kc,function(){CTe(a,!1);dG.zb(KTe(a),a.Kx)})}
function E4(a,b,c){c=void 0===c?!0:c;a=a.La("waffle-dataconnector-newqueryeditor-footer-message");gd(a,b);c&&jK(fe(a))}function CTe(a,b){a.ub()&&al(a.La("waffle-dataconnector-newqueryeditor-footer-message-container"),"waffle-dataconnector-newqueryeditor-unhandled-error",b)}function ITe(a,b,c,d){qv.call(this,[a],[b],c);this.D=d}v(ITe,qv);ITe.prototype.Daa=function(){JTe(this.D,this.coords[0])};ITe.prototype.xU=function(){JTe(this.D,this.HQ[0])};
var MTe=new Qr,NTe="Os dados digitados s\u00e3o vis\u00edveis para todos. A consulta s\u00f3 \u00e9 vis\u00edvel para as pessoas com acesso para editar. "+(MTe.Ae("a",{"class":"goog-inline-block",href:"https://support.google.com/docs/answer/9077536",target:"_blank"})+("Saiba mais"+MTe.Be("a"))),OTe=MTe.format(NTe);function PTe(a,b,c){b=c||b;b="<div id="+zt(a.id)+' class="'+S("waffle-dataconnector-dbschematreenode")+'"><div class="'+S("waffle-dataconnector-dbschematreenode-label")+(a.dc?" waffle-dataconnector-dbschematreenode-rtl":"")+'"><div class="'+S("waffle-dataconnector-dbschematreenode-spinner-container")+'">'+P(JPb({Lb:!0},b))+"</div>";c=Q('<svg class="waffle-dataconnector-expand-icon" width="18px" height="18px" viewBox="0 0 18 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g><polygon id="Shape" points="0 0 18 0 18 18 0 18"></polygon><polygon id="Shape" fill-opacity="0.87" fill="#000000" points="5 7 9 11 13 7"></polygon></g></g></svg>');
a=b+P(c)+'<div class="'+S("waffle-dataconnector-dbschematreenode-title")+'">'+P(a.title)+'</div></div><div class="'+S("waffle-dataconnector-dbschematreenode-child-container")+'" role="group"></div></div>';return Q(a)};function QTe(a){this.C=a}QTe.prototype.getType=g("C");function RTe(a){this.C="jdbc-table";this.D=a}v(RTe,QTe);function F4(a,b,c,d){c=void 0===c?!1:c;O.call(this,d);this.Zb(b);this.J=a;this.nextSibling=this.previousSibling=this.parentNode=null;this.H=(this.D=c)?2:0;this.F=this.C=!1}v(F4,O);n=F4.prototype;n.Da=function(){this.ob(mt(PTe,{title:this.J,id:this.getId()}))};n.tb=function(){return this.hb("waffle-dataconnector-dbschematreenode-child-container")};
n.Ja=function(){O.prototype.Ja.call(this);var a=this.La("waffle-dataconnector-dbschematreenode-label"),b=this.La("waffle-dataconnector-dbschematreenode-title");a.id=this.getId()+"-label";Rk(this.Qa(),"labelledby",a.id);this.D||Rk(this.Qa(),"expanded",this.C);Rk(this.Qa(),"selected",this.F);Qk(this.Qa(),"treeitem");Qk(this.La("waffle-dataconnector-dbschematreenode-spinner-container"),"presentation");Qk(this.La("waffle-dataconnector-expand-icon"),"presentation");al(this.Qa(),"waffle-dataconnector-dbschematreenode-rtl",
this.ze());Lva(this.va());Cm(b,this.J,void 0);STe(this,!1);al(this.Qa(),"waffle-dataconnector-dbschematreenode-leaf",this.D);this.getHandler().R(a,"click",this.NRb)};n.getTitle=g("J");n.NRb=function(){this.Jd(!this.C);this.Yb(!0)};n.Jd=function(a){if(!this.D&&a!=this.C){var b=kva(64,a);this.dispatchEvent(b)&&STe(this,a)}};function STe(a,b){a.D||(a.C=b,a.ub()&&(al(a.Qa(),"waffle-dataconnector-dbschematreenode-open",a.C),Rk(a.Qa(),"expanded",a.C)))}
n.Yb=function(a){if(a!=this.F){var b=kva(8,a);this.dispatchEvent(b)&&(this.F=a,this.ub()&&(al(this.Qa(),"waffle-dataconnector-dbschematreenode-selected",this.F),Rk(this.Qa(),"selected",a)))}};n.ef=g("C");n.Wo=g("H");n.Zb=function(a){O.prototype.Zb.call(this,a)};n.Ta=function(){return O.prototype.Ta.call(this)};n.Yc=function(a){return O.prototype.Yc.call(this,a)};n.Qc=function(a){return O.prototype.Qc.call(this,a)};
n.Ia=function(a,b){if(this.D)throw Error("Can't add child to leaf node");O.prototype.Ia.call(this,a,b)};function TTe(a){a.parentNode=null;var b=a.previousSibling,c=a.nextSibling;a.previousSibling=null;a.nextSibling=null;b&&(b.nextSibling=c);c&&(c.previousSibling=b)}n.Nf=function(a,b,c){if(this.D)throw Error("Can't add child to leaf node");var d=this.Qc(b-1),e=this.Qc(b);a.parentNode=this;a.nextSibling=e;if(a.previousSibling=d)d.nextSibling=a;e&&(e.previousSibling=a);O.prototype.Nf.call(this,a,b,c)};
n.removeChild=function(a,b){TTe(a);return O.prototype.removeChild.call(this,a,b)};n.Ad=function(){return O.prototype.Ad.call(this,!0)};n.Qn=function(a){return O.prototype.Qn.call(this,a,!0)};function UTe(a){var b=a.C.Ad(!0);yb(b);VTe(a,!1)}function VTe(a,b){a.ub()&&N(a.La("waffle-dataconnector-schema-menu-error-message"),b)};function WTe(a){UTe(a);a.F.setActive(!0);a.H.H().then(function(b){a.F.setActive(!1);b.forEach(function(b){b=b.getName();b=new F4(b,new RTe(b));VTe(a,!1);a.C.Ia(b,!0)});0==b.length&&VTe(a,!0)},function(){a.F.setActive(!1);VTe(a,!0)})};var XTe=Object.freeze({caption:"Dremel",value:"DREMEL"}),YTe=Object.freeze({caption:"F1",value:"F1"}),ZTe=Object.freeze({caption:"Procella",value:"PROCELLA"});function G4(a,b){Nt.call(this,"waffle-dataconnector-prompt",a,b);this.L=Ye();$t(this,null);Yt(this,!0);this.C=new PM("Continuar");this.Ia(this.C);this.J=new jV("Cancelar");this.Ia(this.J);this.O=[]}v(G4,Nt);n=G4.prototype;n.Fd=function(a){this.O.push(a);var b=this.getElement();b&&Xk(b,a)};n.getResult=function(){return this.L.C};n.resolve=function(a){this.L.resolve(a)};n.reject=function(){this.L.reject()};
n.Da=function(){Nt.prototype.Da.call(this);var a=St(this);this.J.render(a);this.C.render(a);N(a,!0)};n.Ja=function(){var a=this;Nt.prototype.Ja.call(this);Yk(this.Qa(),this.O);this.getHandler().R(this.J,"action",function(){return a.reject()})};n.setVisible=function(a){Nt.prototype.setVisible.call(this,a);a||this.reject()};n.Ka=function(){Nt.prototype.Ka.call(this);this.reject()};function $Te(a,b,c,d,e,f){A.call(this);var h=this;this.Aa=a;this.F=dZ.getInstance();this.Ea=new eTe(this.F);this.V=c;this.ea=f;this.C=new WSe(c);this.O=new xe(this);this.Ba(this.O);aUe(this,e);bUe(this);this.L=new bf;zF("queryeditor",function(){var c=CF("queryeditor");h.L.callback(c.C(d,a,h.F,h.V,h.ea,b))})}v($Te,A);function aUe(a,b){tvb.Pa(!0);svb.Pa(!0);a.Gza(b)}function bUe(a){a.O.subscribe(tvb,"action",function(){ZSe(a.C)}).subscribe(svb,"action",a.uBb);a.vVa()}n=$Te.prototype;n.Cf=function(a){this.F.Cf(a)};
n.T8a=function(){var a=cUe("Conectando ao Plx...");dUe(this);Mr(Lr.getInstance(),a)};n.S8a=function(){var a=this,b=cUe("Conectando ao BigQuery...");VSe(new USe(this.F)).then(function(c){Mr(Lr.getInstance(),b);eUe(a,c)},function(){Mr(Lr.getInstance(),b);fUe("N\u00e3o foi poss\u00edvel conectar ao BigQuery")})};function eUe(a,b){b=new zSe(b);var c=new RSe(b);a.Ba(c);C4(a.C,c);c.getResult().then(function(b){gUe(a,b)},function(){a.ea.C(35753);B(c)})}
function cUe(a){return Lr.getInstance().postMessage(Nr(a,"info",!0))}function fUe(a){Lr.getInstance().postMessage(Nr(a,"error",!0))}function gUe(a,b){a.L.addCallback(function(c){c=c.Aib(b);a.Ba(c);C4(a.C,c)})}function dUe(a){a.L.addCallback(function(b){b=b.Cib();a.Ba(b);C4(a.C,b)})}
n.KKa=function(a){var b=XSe(this.C);b.Wa=!0;E4(b,$c("Executando a consulta"));ETe(b);zTe(b);var c=U(a,1);cTe(bTe(fTe(this.Ea,a),function(a){if(!b.isDisposed()){b.O.stop();b.O.sE();CTe(b,!1);b.Wa=!1;b.gb=c;if(!b.isDisposed()){var d=U(a,3);if(U(a,4))d="Consulta conclu\u00edda. "+QSe();else{var f=(new Hv("{TOTAL_ROWS,plural, =0{Nenhum resultado.}=1{1 linha retornada.}one{# linha retornada.}other{# linhas retornadas.}}")).format({TOTAL_ROWS:d});d=1E4>d?f:f+" "+QSe()}d=cd("strong",void 0,d);d=dd(d,cd("br"),
OTe);E4(b,d)}b.J.PZb(U(a,2));xTe(b);b.Aa.setContent("Atualizar visualiza\u00e7\u00e3o");ETe(b)}}),function(a){b.isDisposed()||BTe(b,a)}).start()};n.uBb=function(){Sr("https://cloud.google.com/bigquery/docs/projects")};function hUe(a,b){G4.call(this,a,b)}v(hUe,G4);hUe.prototype.Ja=function(){var a=this;G4.prototype.Ja.call(this);this.getHandler().R(this.C,"action",function(){return a.resolve(0)})};function iUe(a){return Q('<div class="'+S("waffle-dataconnector-connectioncard")+'" role="button" tab-index="0"><div class="'+S("waffle-dataconnector-connectioncard-icon")+'"></div><div class="'+S("waffle-dataconnector-connectioncard-body")+'"><div class="'+S("waffle-dataconnector-connectioncard-header")+'">'+P(a.sha)+'</div><div class="'+S("waffle-dataconnector-connectioncard-type")+'">'+P(a.tha)+"</div></div></div>")};function jUe(){}v(jUe,Is);jUe.prototype.Da=function(a){a=a.Ta();return mt(iUe,{sha:a.getName(),tha:"SQL"})};jUe.prototype.Rb=m("waffle-dataconnector-connectioncard");wa(jUe);function kUe(a,b){Js.call(this,void 0,jUe.getInstance(),b);this.Zb(a);this.Ze(8,!0)}v(kUe,Js);kUe.prototype.Zb=function(a){Js.prototype.Zb.call(this,a)};function lUe(){var a='<div class="'+S("waffle-dataconnector-connectionmanager-content")+'"><div class="'+S("waffle-dataconnector-connectionmanager-header")+'">';a=a+"Escolha uma fonte de dados"+('</div><div class="'+S("waffle-dataconnector-connectionmanager-connections")+'"></div></div>');return Q(a)};function mUe(a){B4.call(this,"waffle-dataconnector-connectionmanager",a);MSe(this,this.va().Da("SPAN",void 0,mt(DSe),"Fontes de dados gerenciadas"));this.D=new O(this.va());this.Ia(this.D);this.F=new lN;this.Ia(this.F);this.L=dZ.getInstance()}v(mUe,B4);mUe.prototype.Da=function(){B4.prototype.Da.call(this);kt(this.tb(),lUe);LSe(this).appendChild(mt(ASe));this.F.render(this.La("waffle-dataconnector-connectionmanager-content"))};
mUe.prototype.Ja=function(){var a=this;B4.prototype.Ja.call(this);this.D.Xa(this.La("waffle-dataconnector-connectionmanager-connections"));this.getHandler().R(this.D,"action",this.J);nUe(this,!0);tSe(this.L).then(function(b){b=Aw(b,1);oUe(a,b);nUe(a,!1)},function(){nUe(a,!1);Lr.getInstance().postMessage(Nr("N\u00e3o foi poss\u00edvel recuperar as fontes de dados gerenciadas","error",!0))})};function nUe(a,b){al(a.Qa(),"waffle-dataconnector-connectionmanager-loading",b);a.F.setActive(b)}
function oUe(a,b){var c=a.La("waffle-dataconnector-connectionmanager-connections");if(0==b.length){var d=new Qr,e="Voc\u00ea n\u00e3o tem acesso \u00e0s fontes de dados gerenciadas. "+(d.Ae("a",{"class":"goog-inline-block",href:"https://sites.google.com/corp/google.com/dataconnectors/home",target:"_blank"})+("Saiba mais"+d.Be("a")));b=a.va();d=pe(b,d.format(e));b.appendChild(c,b.Da("DIV","waffle-dataconnector-connectionmanager-no-connections-message",d));N(a.La("waffle-dataconnector-connectionmanager-header"),
!1)}else{b=ja(b);for(d=b.next();!d.done;d=b.next())d=new kUe(d.value),a.D.Ia(d),d.render(c);b=new PM("CRIAR NOVA FONTE DE DADOS");a.Ia(b);b.render(c);a.getHandler().R(b,"action",function(){Sr("https://sites.google.com/corp/google.com/dataconnectors/home")})}}mUe.prototype.J=function(a){a.stopPropagation();this.resolve(a.target.Ta())};function pUe(){A.call(this);this.C={};this.D={};this.F=new GA}v(pUe,A);function qUe(a,b,c){a.C[b]=c}function rUe(a,b){var c;(c=ritz_api.DbxApi.getExecutionStatusForQuery(b))?(c=a.F.ud(PA.Ca(),c),a.D[b]=c):c=a.D[b];var d=a.C[b];return d?c&&d.getToken()==c.getToken()?(sc(a.C,b),c):d:c};function sUe(){var a='<div class="'+S("waffle-dataconnector-pill-menuitem")+'"><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info")+" "+S("waffle-dataconnector-pill-menuitem-accel")+'"><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-message")+'"></span><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-progress")+'">';a=a+"Calculando o tamanho\u2026"+('</span><span class="'+S("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")+
'">');a+="Erro ao estimar o tamanho";var b=Q('<svg class="waffle-dataconnector-refresh-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><polygon points="0 0 18 0 18 18 0 18"/><path fill="#000" d="M9,13.5 C6.51,13.5 4.5,11.49 4.5,9 C4.5,6.51 6.51,4.5 9,4.5 C10.24,4.5 11.36,5.02 12.17,5.83 L10,8 L15,8 L15,3 L13.24,4.76 C12.15,3.68 10.66,3 9,3 C5.69,3 3.01,5.69 3.01,9 C3.01,12.31 5.69,15 9,15 C11.97,15 14.43,12.84 14.9,10 L13.38,10 C12.92,12 11.14,13.5 9,13.5 L9,13.5 Z"/></g></svg>');
a+="</span></span>"+P(b);return Q(a+"Atualizar consulta</div>")}
function tUe(){var a='<div class="'+S("waffle-dataconnector-pill-menuitem-editquery")+" "+S("waffle-dataconnector-pill-menuitem")+'">';var b=Q('<svg class="waffle-dataconnector-edit-icon" xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');a+=P(b);return Q(a+
"Editar consulta</div>")}function uUe(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill-menuitem-viewerror")+" "+S("waffle-dataconnector-pill-menuitem")+'">'+P(ESe({color:"#000000"},b));return Q(a+"Ver erro</div>")}function vUe(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill-menuitem-bigquery-helpdoc")+" "+S("waffle-dataconnector-pill-menuitem")+'">'+P(FSe(null,b));return Q(a+"Saiba mais sobre o BigQuery</div>")}
function wUe(a){var b='<div class="'+S("waffle-dataconnector-pill-menuitem")+'"><span class="'+S("waffle-dataconnector-pill-menuitem-truncation-bigquery-console")+" "+S("waffle-dataconnector-pill-menuitem-accel")+'">';b=b+"Ver tudo no BigQuery"+("</span>"+P(a.message)+"</div>");return Q(b)};function xUe(a,b,c,d){no.call(this,mt(sUe),a,d);this.H=b;this.J=c;this.F=tn(new sn,72).build();this.C=new Js(void 0,im(Is,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"),this.va());this.Ia(this.C);this.D=3==ritz_api.DbxApi.getTypeOfQuery(this.H)}v(xUe,no);
xUe.prototype.Ja=function(){no.prototype.Ja.call(this);Xk(this.Qa(),"waffle-dataconnector-pill-menuitem-refreshquery");this.C.Xa(this.La("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"));this.DI();this.getHandler().R(this.C,"action",this.V)};
xUe.prototype.DI=function(){N(this.La("waffle-dataconnector-pill-menuitem-refreshquery-info"),this.D);if(this.D){yUe(this,"waffle-dataconnector-pill-menuitem-refreshquery-info-message");var a=this.La("waffle-dataconnector-pill-menuitem-refreshquery-info-message");gd(a,ed)}zUe(this)};xUe.prototype.lh=function(a){if(a&&Od(a.target)){var b=this.La("waffle-dataconnector-pill-menuitem-refreshquery-info");if(be(b,a.target))return!0}return no.prototype.lh.call(this,a)};
xUe.prototype.V=function(a){a.stopPropagation();Hvb.zb(void 0,this.F)};function zUe(a){a.D&&(yUe(a,"waffle-dataconnector-pill-menuitem-refreshquery-info-progress"),a.J.C(35737,a.F),AUe(a).then(function(b){b=U(b,2);return BUe(b).then(function(b){b=U(U(b,5),1);b=OSe(b);var c=a.La("waffle-dataconnector-pill-menuitem-refreshquery-info-message");gd(c,$c(b));yUe(a,"waffle-dataconnector-pill-menuitem-refreshquery-info-message");jK(b)},function(){return CUe(a)})},function(){return CUe(a)}))}
function CUe(a){yUe(a,"waffle-dataconnector-pill-menuitem-refreshquery-info-error-button")}function AUe(a){var b=new gNd;V(b,1,a.H);return uSe(dZ.getInstance(),b)}function BUe(a){U(a,6);var b=new KY;a=a.clone();V(b,1,a);V(b,2,1);V(b,4,!0);return pSe(dZ.getInstance(),b)}
function yUe(a,b){["waffle-dataconnector-pill-menuitem-refreshquery-info-message","waffle-dataconnector-pill-menuitem-refreshquery-info-progress","waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"].forEach(function(b){return N(a.La(b),!1)});N(a.La(b),!0);a.C.setVisible("waffle-dataconnector-pill-menuitem-refreshquery-info-error-button"==b)};function DUe(a,b,c){no.call(this,mt(wUe,{message:"Limite: "+(NSe.format(1E4)+" resultados")}),a,c);this.C=b;this.D=new GA;this.Gga=null}v(DUe,no);DUe.prototype.Ja=function(){no.prototype.Ja.call(this);this.Pa(!1);Xk(this.Qa(),"waffle-dataconnector-pill-menuitem-truncation");this.DI()};DUe.prototype.DI=function(){Cvb.Pa(!1);N(this.La("waffle-dataconnector-pill-menuitem-truncation-bigquery-console"),!1);this.Gga=null;EUe(this)};
function EUe(a){if(3==ritz_api.DbxApi.getTypeOfQuery(a.C)){var b=FUe(a);if(b&&ww(b,8)&&ww(b,9)){var c=new aZ,d=U(b,8),e=U(b,9);V(c,2,d);V(c,1,e);wSe(c).then(function(b){b.Aq()&&(a.Pa(!0),Cvb.Pa(!0),N(a.La("waffle-dataconnector-pill-menuitem-truncation-bigquery-console"),!0),a.Gga=(new To("https://console.cloud.google.com/bigquery")).tc("project",d).tc("j",e).tc("page","queryresults").toString())},va)}}}
function FUe(a){var b=ritz_api.DbxApi.getDbQueryForQueryId(a.C);return null==b?null:a.D.ud(NA.Ca(),b)};function GUe(a,b,c,d){c=void 0===c?!1:c;NX.call(this,lt(GSe,{opacity:.54}),new so(d),HUe.getInstance(),d);this.H=a;this.ea=c;this.O=b;this.J=un(tn(new sn,72),pTe(ritz_api.DbxApi.getTypeOfQuery(this.H))).build();this.D={};this.D["refresh-query"]=new xUe("refresh-query",this.H,this.O,this.va());this.kd(this.D["refresh-query"]);this.D["edit-query"]=new no(mt(tUe),"edit-query",this.va());this.kd(this.D["edit-query"]);this.D["view-error"]=new no(mt(uUe),"view-error",this.va());this.kd(this.D["view-error"]);
this.D["menu-separator"]=new ro(this.va());this.kd(this.D["menu-separator"]);this.D.truncation=new DUe("truncation",this.H,this.va());this.kd(this.D.truncation);this.D["bigquery-helpdoc"]=new no(mt(vUe),"bigquery-helpdoc",this.va());this.kd(this.D["bigquery-helpdoc"])}v(GUe,NX);GUe.prototype.Ja=function(){NX.prototype.Ja.call(this);Xk(this.Wb().getElement(),"waffle-dataconnector-pill-menu");Qad(this,new Dn(this.Qa(),this.ea?4:0));this.Dy=!0;this.getHandler().R(this.Wb(),"action",this.oa)};
GUe.prototype.oa=function(a){a=a.target;var b=a.Ta(),c=IUe[b];if(c&&c.isEnabled()){var d;"truncation"==b&&(d=a.Gga);c.zb(d,this.J)}};
GUe.prototype.refresh=function(a){var b=[];switch(a){case 2:b.push("edit-query");b.push("refresh-query");break;case 3:b.push("view-error")}b.push("menu-separator");b.push("truncation");3==ritz_api.DbxApi.getTypeOfQuery(this.H)&&b.push("bigquery-helpdoc");a=ja(Object.values(this.D));for(var c=a.next();!c.done;c=a.next())c.value.setVisible(!1);b=ja(b);for(a=b.next();!a.done;a=b.next())this.D[a.value].setVisible(!0)};
GUe.prototype.Jd=function(a,b){var c=this.Wb();if(c&&c.ub()&&a){c=ja(Object.values(this.D));for(var d=c.next();!d.done;d=c.next())d=d.value,d.DI&&d.DI()}NX.prototype.Jd.call(this,a,b)};var JUe={},IUe=(JUe["bigquery-helpdoc"]=svb,JUe["edit-query"]=xvb,JUe["refresh-query"]=Fvb,JUe.truncation=Cvb,JUe["view-error"]=Hvb,JUe);function HUe(){}v(HUe,yGd);HUe.prototype.lr=function(a){return a.Da("DIV",{style:"display:none;"})};wa(HUe);function KUe(a,b,c){b=c||b;a='<div class="'+S("waffle-dataconnector-pill")+'" tabindex="0"><div class="'+S("waffle-dataconnector-pill-info")+'"><div class="'+S("waffle-dataconnector-pill-timestamp")+'"></div><div class="'+S("waffle-dataconnector-pill-progress")+'"><div class="'+S("waffle-dataconnector-pill-spinner")+'"></div><span class="'+S("waffle-dataconnector-pill-progress-message")+'">';a=a+"Executando a consulta\u2026"+(' </span></div><div class="'+S("waffle-dataconnector-pill-error")+'">'+
P(ESe(null,b)));a=a+"Erro de execu\u00e7\u00e3o"+('</div></div><div class="'+S("waffle-dataconnector-pill-editquery-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-pill-refresh-button-wrapper")+'"></div><div class="'+S("waffle-dataconnector-pill-menu-button-wrapper")+'"></div></div>');return Q(a)};function LUe(a,b,c,d,e,f,h,k){h=void 0===h?!1:h;O.call(this,k);this.O=a;this.Ma=b;this.Ea=c;this.H=h;this.V=d;this.Aa=e;this.oa=f;b=ritz_api.DbxApi.getTypeOfQuery(a);this.L=un(tn(new sn,72),pTe(b)).build();this.ea=new MUe;this.J=new Gm;this.Ba(this.J);this.F=new jV;this.Ia(this.F);this.F.Fd("waffle-dataconnector-pill-editquery-button");Mm(this.J,this.F,xvb,Om,void 0,this.L);this.D=new jV("Atualizar");this.D.Fd("waffle-dataconnector-pill-refresh-button");this.Ia(this.D);this.C=new GUe(a,this.Aa,this.H,
this.va());this.C.Fd("waffle-dataconnector-pill-menu-button");this.Ia(this.C);this.Ha=new GA}v(LUe,O);n=LUe.prototype;n.Da=function(){this.ob(mt(KUe))};
n.Ja=function(){var a=this;O.prototype.Ja.call(this);Qk(this.Qa(),"toolbar");var b=this.getId()+":label";this.La("waffle-dataconnector-pill-info").id=b;Rk(this.Qa(),"labelledby",b);this.F.render(this.La("waffle-dataconnector-pill-editquery-button-wrapper"));this.D.render(this.La("waffle-dataconnector-pill-refresh-button-wrapper"));this.C.render(this.La("waffle-dataconnector-pill-menu-button-wrapper"));Cm(this.C.Qa(),"Mais op\u00e7\u00f5es",void 0);this.getHandler().R(this.D,"action",this.hEb).R(this.Qa(),
"keydown",function(a){var b=a.keyCode;37!=b&&39!=b||a.preventDefault()});C.hq&&C.product.eq&&this.getHandler().R(this.Qa(),"focus",function(){ll(a.Qa(),{outline:"1px dotted black"})}).R(this.Qa(),"blur",function(){ll(a.Qa(),{outline:"0"})});this.refresh();b=new iR(this.Qa(),this.va());this.Ba(b);jR(b)};n.Ka=function(){O.prototype.Ka.call(this)};n.fd=function(){this.Ea.fd(this.Qa(),this.H?5:1,new gl(0,this.H?50:0,12,this.H?0:50))};
n.refresh=function(){var a=rUe(this.V,this.O);a=a?a.getState():2;var b=yvb.isEnabled()&&M(this.oa,"fedct");switch(a){case 5:case 1:N(this.La("waffle-dataconnector-pill-timestamp"),!1);N(this.La("waffle-dataconnector-pill-progress"),!0);N(this.La("waffle-dataconnector-pill-error"),!1);this.F.setVisible(!1);this.D.setVisible(!1);this.D.Pa(!1);this.C.setVisible(!1);break;case 4:case 2:N(this.La("waffle-dataconnector-pill-timestamp"),!0);N(this.La("waffle-dataconnector-pill-progress"),!1);N(this.La("waffle-dataconnector-pill-error"),
!1);NUe(this);this.F.setVisible(!1);this.D.setVisible(b);this.D.Pa(b);this.C.setVisible(b);this.C.isVisible()&&this.C.refresh(a);break;case 3:N(this.La("waffle-dataconnector-pill-timestamp"),!1);N(this.La("waffle-dataconnector-pill-progress"),!1);N(this.La("waffle-dataconnector-pill-error"),!0);this.F.setVisible(b);this.D.setVisible(!1);this.D.Pa(!1);this.C.setVisible(b);this.C.isVisible()&&this.C.refresh(a);b||(N(this.La("waffle-dataconnector-pill-timestamp"),!0),N(this.La("waffle-dataconnector-pill-error"),
!1),NUe(this));break;default:tjd("Unrecognized execution state: "+a)}this.fd()};
function NUe(a){var b=ritz_api.DbxApi.getDbQueryForSheet(a.Ma);b=null==b?null:a.Ha.ud(NA.Ca(),b);if(null!=b){var c=U(b,3)||0;0>=c||(c=a.ea.format(c),a=a.La("waffle-dataconnector-pill-timestamp"),U(b,7)?(b="Limitado a "+(OUe.format(U(b,6))+(" linhas, "+c)),de(a,b)):ww(b,6)?(b=(new Hv("{totalRows,plural, =0{Nenhuma linha, {formattedDateTime}}=1{1 linha, {formattedDateTime}}one{# linha, {formattedDateTime}}other{# linhas, {formattedDateTime}}}")).format({totalRows:U(b,6),formattedDateTime:c}),de(a,b)):
de(a,"Consulta atualizada: "+c))}}n.hEb=function(){this.D.Pa(!1);Fvb.zb(void 0,this.L)};n.focus=function(){this.Qa().focus()};var OUe=new Fv(1);function MUe(){this.C=new zv(1);this.D=new zv(Cv.MONTH_DAY_ABBR);this.F=new zv(7)}MUe.prototype.format=function(a){a=new Date(a);var b=new Date;return 0<b.getFullYear()-a.getFullYear()?this.C.format(a):a.getMonth()==b.getMonth()&&a.getDate()==b.getDate()?this.F.format(a):this.D.format(a)};function PUe(a,b,c,d,e,f,h){A.call(this);this.D=a;this.H=b;this.L=c;this.oa=d;this.J=e;this.Oa=new dl(this);this.Ba(this.Oa);this.F=new xe(this);this.Ba(this.F);this.V=f;this.ea=h;this.O=L();this.C=null;this.Oa.R(this.L,"F",this.KRb).R(this.D,"gb",this.LRb).R(this.D,"hb",this.tGb).R(this.oa,"db-execution-status-updated",this.JRb).R(this.D,"zb",this.refresh);this.F.subscribe(zvb,"action",this.Rvb)}v(PUe,A);n=PUe.prototype;n.Ka=function(){A.prototype.Ka.call(this);B(this.C)};n.refresh=function(){QUe(this)};
n.KRb=function(){this.C&&this.C.fd()};n.LRb=function(){QUe(this)};n.tGb=function(){B(this.C);this.C=null};n.Rvb=function(){this.C&&(this.C.focus(),this.V.wb(2))};function QUe(a){var b=a.D.C.C;if(b&&IK(b))if(a.C)a.C.refresh();else{var c=xK(a.H);if(c){b=c.ze();c=new Dn(c.Ma.J,b?5:1);var d=a.D.C.C,e=U(d.H,1);d=d.mb();a.C=new LUe(e,d,c,a.J,a.ea,a.O,b);a.C.render()}}}n.JRb=function(a){a.F&&0!=a.F.length&&this.C&&db(a.F,this.C.O)&&this.C.refresh()};function RUe(a,b,c,d){var e="Erro na consulta em "+c;c=new hUe;c.Fd("waffle-dataconnector-error-popup");Ot(c,e);c.C.setContent("Abrir editor de consultas");c.J.setContent("OK");a=10==a.getErrorCode()?oTe(d):iTe(b,a);Pt(c,a);return c};function SUe(a,b,c,d,e,f,h,k,l){$Te.call(this,a,d,f,h,k,l);this.H=new pUe;this.Ba(this.H);this.D=b;this.J=new PUe(b,c,d,a,this.H,e,l);this.Ba(this.J);this.Oa=new dl(this);this.Ba(this.Oa);this.oa=new uTe;this.Ba(this.oa);this.Oa.R(this.C.D,["show","hide"],this.etb);this.Oa.R(this.C.D,["kh"],this.eyb);this.J.refresh()}v(SUe,$Te);n=SUe.prototype;
n.Gza=function(a){var b=this,c=dsc(),d=new Rv(csc.concat(["waffle-dataconnector-connection-selected"])),e=new Rv(["waffle-dataconnector-active-sheet-db-connection","embedded-object-unfocused"]),f=csc.concat(["waffle-dataconnector-active-sheet-db-connection","sheet-access-no-protected-range-for-sheet"]);c||f.push("waffle-dataconnector-active-sheet-not-plx");c=new Rv(f);a.C(bG,NS).F(bG,NS).C(cG,NS).F(cG,NS).C(Fvb,c).C(xvb,c).C(dG,NS).C(Gvb,d).C(Dvb,c).C(Hvb,c).C(zvb,e);a.C(yvb,c);this.O.Ab(yvb,Ma,function(){b.J.refresh()});
M(L(),"fedp")&&a.C(vvb,NS).F(vvb,NS).C(wvb,NS).F(wvb,NS)};n.vVa=function(){this.O.subscribe(dG,"action",this.KKa).subscribe(bG,"action",this.fsb).subscribe(vvb,"action",this.esb).subscribe(Fvb,"action",this.fEb).subscribe(xvb,"action",this.Rqa).subscribe(cG,"action",this.wub).subscribe(Dvb,"action",this.xBb).subscribe(Hvb,"action",this.Rqa).Ab(wvb,Oa,this.nwb).subscribe(Cvb,"action",this.tBb)};n.etb=function(){var a=XSe(this.C);a&&a.isVisible()||(dG.setValue(null),Gvb.setValue(null))};
n.MQa=function(a){var b=this;a=void 0===a?!1:a;var c=new mUe;this.Ba(c);C4(this.C,c,!a);c.getResult().then(function(c){var d=a,f=c.getId();c=c.getName();if(d){ZSe(b.C);d=XSe(b.C);d.hc=f;d.Va=!0;-1!=fe(LSe(d)).indexOf("Uma fonte de dados gerenciada est\u00e1 faltando nas configura\u00e7\u00f5es de consulta")&&E4(d,cd("span"));var h=d.L;h.F=c;de(h.La("waffle-dataconnector-jdbc-query-settings-widget-connection-name"),c);al(h.La("waffle-dataconnector-jdbc-query-settings-widget-connection-name"),"waffle-dataconnector-jdbc-query-settings-widget-connection-name-error",
!1);d.L.Jd(!0);d.Td.J(f);WTe(d.pb);d.EI()}else TUe(b,f,c)},function(){ZSe(b.C)})};n.zZb=function(){UUe(this,[],!1)};function TUe(a,b,c){a.L.addCallback(function(d){d=d.Bib(b,c);a.Ba(d);C4(a.C,d)})}n.fsb=function(a){VUe(this,1,a)};n.esb=function(a){VUe(this,2,a)};function VUe(a,b,c){var d=XSe(a.C);V(c,2,b);oSe(a.F,c).then(function(c){WUe(a,c);2==b&&JEb()},function(a){d.isDisposed()||BTe(d,a)});GTe(d)}
function WUe(a,b){qUe(a.H,U(b,2),b.Mi());var c=b.mb();YSe(a.C);XUe(a,c);hM(a.D,c)?kM(a.D.C)==c?a.J.refresh():mM(a.D,c,void 0,{pE:!0}):a.Oa.Jc(a.D,["rb","gb"],function(b){"rb"==b.type&&b.Sh==c&&mM(a.D,c,void 0,{pE:!0})})}n.fEb=function(){UUe(this,[AO(this.D.C)],!0)};function UUe(a,b,c){var d=new LMd;b.forEach(function(a){yw(d,1,a)});qSe(a.F,d).then(function(b){YUe(a,Aw(b,1));a.J.refresh()},function(b){return ZUe(a,b,c)})}
function ZUe(a,b,c){var d=[],e=[];Aw(b,1).forEach(function(a){return 3==a.Mi().getState()?e.push(a):d.push(a)});YUe(a,d);a.J.refresh();c&&(b=e[0],c=b.Mi(),c.getErrorCode(),$Ue(a,b.mb(),c))}function YUe(a,b){b.forEach(function(b){var c=hM(a.D,b.mb());if(c=c&&c.H)c=U(c,1),b=b.Mi(),a.H.C[c]=b})}
n.nwb=function(){var a=this,b=new ZY,c=ZIb(UL(this.D.getActiveGrid().Fc())),d=AO(this.D.C);V(b,1,3);V(b,2,d);nSe(b,PIb(c));rSe(this.F,b).then(function(b){var c=U(b,2);b=b.Mi();a.H.C[c]=b},function(b){$Ue(a,d,b.Mi())})};
function $Ue(a,b,c){var d=hM(a.D,b),e=d&&d.H;if(e){d=d.xe();e=ritz_api.DbxApi.getTypeOfQuery(U(e,1));var f="waffle-dataconnector-ssologin-"+ac(),h=RUe(c,e,d,f);a.Ba(h);a.V.Ci(h);h.render();h.setVisible(!0);h.getResult().then(function(){B(h);a.Rqa(b)},function(){B(h)});(c=Fd(f))&&G4.prototype.getHandler.call(h).R(c,"click",function(){aVe(a,b,h)})}}function aVe(a,b,c){vTe(a.oa,function(){B(c);UUe(a,[b],!0)})}
n.Rqa=function(a){if((a=void 0!==a?hM(this.D,a):this.D.C.C)&&IK(a)){var b=a.H;a=U(b,1);switch(ritz_api.DbxApi.getTypeOfQuery(a)){case 2:bVe(this,a);break;case 1:b=U(b,2);cVe(this,b,a);break;case 3:dVe(this,a)}}};
function cVe(a,b,c){var d=eVe(a,c),e=fVe(a,b),f=gVe(a,c);a.L.addCallback(function(h){var k=cUe("Carregando a consulta\u2026");We([d,e,f]).then(function(d){var e=d[0],f=d[1]?d[1]:null;f=f?f.getName():null;d=h.Fib(b,f,c,e,d[2]?d[2]:null);a.Ba(d);Mr(Lr.getInstance(),k);C4(a.C,d)},function(){Mr(Lr.getInstance(),k);fUe("N\u00e3o foi poss\u00edvel carregar a consulta")})})}
function bVe(a,b){var c=eVe(a,b),d=gVe(a,b);a.L.addCallback(function(e){var f=cUe("Carregando a consulta\u2026");We([c,d]).then(function(c){c=e.Gib(b,c[0],c[1]?c[1]:null);a.Ba(c);Mr(Lr.getInstance(),f);C4(a.C,c)},function(){Mr(Lr.getInstance(),f);fUe("N\u00e3o foi poss\u00edvel carregar a consulta")})})}
function dVe(a,b){var c=VSe(new USe(a.F)),d=eVe(a,b),e=gVe(a,b);a.L.addCallback(function(f){var h=cUe("Conectando ao BigQuery...");We([d,e,c]).then(function(c){var d=c[0],e=c[1]?c[1]:null;c=c[2];var k=U(d,4).Rl();c=new zSe(c,k);d=f.Eib(c,b,d,e);Mr(Lr.getInstance(),h);C4(a.C,d)},function(){Mr(Lr.getInstance(),h);fUe("N\u00e3o foi poss\u00edvel carregar a consulta")})})}
function eVe(a,b){var c=Ye(),d=new gNd;V(d,1,b);uSe(a.F,d).then(function(a){c.resolve(U(a,2))},function(a){return c.reject(a)});return c.C}function fVe(a,b){var c=Ye(),d=new nNd;V(d,1,b);xSe(a.F,d).then(function(a){c.resolve(U(a,1))},function(){return c.resolve(null)});return c.C}function gVe(a,b){var c=rUe(a.H,b);if(!c||3!=c.getState())return Ue(null);c=new kNd;V(c,1,b);return a.F.Mi(c).then(function(a){return a.Mi()})}
n.wub=function(a){var b=this,c=U(a,1),d=XSe(this.C);sSe(this.F,a).then(function(a){a=a.Mi();b.H.C[c]=a;a=ritz_api.DbxApi.getSheetIdForQuery(c);mM(b.D,a,void 0,{pE:!0});YSe(b.C);b.J.refresh()},function(a){d.isDisposed()||BTe(d,a)});GTe(d)};n.xBb=function(){var a=this,b=this.D.C.C,c=U(b.H,1),d=new kNd;V(d,1,c);this.F.Mi(d).then(function(c){(c=c.Mi())&&3==c.getState()&&$Ue(a,b.mb(),c)})};n.eyb=function(){this.MQa(!0)};n.tBb=function(a){Sr(a)};
function XUe(a,b){a=a.Aa.Qb;var c=new Fx,d=$8b(b,0,0);V(c,1,d);b=uC(b,0,0,1,1);yw(c,2,b);a.dispatchEvent(new ySe(new Ex(c)))};function hVe(a,b){lK.call(this,139);this.C=a||"";this.D=b}v(hVe,lK);hVe.prototype.Rd=function(){var a=new vEb;V(a,1,this.C);V(a,2,this.D);return a};function iVe(a,b,c,d,e,f,h,k,l){$Te.call(this,a,c,e,f,h,k);this.H=l}v(iVe,$Te);iVe.prototype.Gza=function(a){a.C(bG,NS).F(bG,NS).C(dG,NS)};iVe.prototype.vVa=function(){this.O.subscribe(dG,"action",this.KKa).subscribe(bG,"action",this.D)};
iVe.prototype.D=function(a){var b=U(a,1);a=new QD;switch(U(b,6)){case 3:var c=new RD,d=U(U(b,4),1);V(c,1,d);b=U(b,4).Rl();V(c,3,b);V(a,3,c);break;case 2:c=new SD;(d=U(U(b,2),1))?(V(c,1,d),b=U(U(b,2),2),V(c,2,b)):(b=U(U(b,2),3),V(c,3,b));V(a,4,c);break;default:throw Error("Unknown data connector type: "+U(b,6));}this.H.C(new hVe(null,a));YSe(this.C)};function jVe(){A.call(this)}v(jVe,uF);jVe.prototype.C=function(){return SUe};jVe.prototype.D=function(){return iVe};BF("dataconnector",jVe);
